<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مركز ماعين القرآني</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css" />
    
</head>

<script>
    // دالة لتنسيق التاريخ
    function formatDate(dateString) {
      const date = new Date(dateString);
      if (!isNaN(date.getTime())) {
        // استخراج اليوم، الشهر، والسنة
        let day = date.getDate();
        let month = date.getMonth() + 1; // الأشهر في JavaScript تبدأ من 0
        let year = date.getFullYear();

        // تنسيق اليوم والشهر ليظهروا دائمًا برقمين
        day = day < 10 ? '0' + day : day;
        month = month < 10 ? '0' + month : month;

        // إرجاع التاريخ بالتنسيق "DD/MM/YYYY"
        return year + '/' + month + '/' + day;
      }
      return dateString; // إذا لم تكن القيمة تاريخًا، يتم إرجاع القيمة الأصلية
    }

    async function fetchStudentData() {
      const response = await fetch('https://script.google.com/macros/s/AKfycbxffMfNkCqNHRvGkcBAzZUI3FrB1HgOoTgXBvroysC45fQ3bobp8IjFOJwjETArnRl8Wg/exec');
      const jsonData = await response.json(); // تحويل البيانات إلى JSON

      // عرض البيانات في صفحة HTML
      const table = document.getElementById('studentTable');
      jsonData.forEach(row => {
        const tr = document.createElement('tr');
        for (const key in row) {
          const td = document.createElement('td');
          
          // التحقق مما إذا كانت الخلية تحتوي على تاريخ (يمكنك التحقق بناءً على اسم العمود)
          if (key === "التاريخ") {
            td.textContent = formatDate(row[key]); // تطبيق تنسيق التاريخ
          } else {
            td.textContent = row[key]; // عرض البيانات بشكل عادي
          }

          tr.appendChild(td);
        }
        table.appendChild(tr);
      });
    }

    window.onload = fetchStudentData;
  </script>
<body  dir="rtl">
    <div>
<header>
    
    <img src="logo.png" alt="شعار مركز ماعين القرآني">
    <h1>مركز ماعين القرآني</h1>
</header>

<nav>
    <ul>
        <li><a href="/">الرئيسية</a></li>
        <li><a href="/Login">تسجيل الدخول</a></li>
        <li><a href="/Contact">اتصل بنا</a></li>
        <li><a href="/Gallery">معرض الصور</a></li>
    </ul>
</nav>

<section id="about">
    <h2>الطالب حسام أمجد السنيان:</h2>
    <nav>   

        <center>
            <h2>بيانات الطالب</h2>
            <table id="studentTable" border="3" cellpadding="5px">
              <tr>
                <th>التاريخ</th>
                <th>الحفظ</th>
                <th>الحضور</th>
                <th>الواجب التالي</th>
                <th>ملاحظات تربوية</th>
              </tr>
            </table>
          </center>
        </nav>

    <h2>هل المعلومات غير واضحة؟</h2>  
    <ul>
        <li> 1. جرب تنزيل الملف <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vSfB8CyplSW6MCRlagRYNAlghiroYsqU8K7P9tEtxO1BAUDViLFbdOiQ219de32pkStcpHiZs7lwDN7/pub?output=pdf">تنزيل المعلومات</a></li>
        <li> 2. إذا كنت تسنخدم الهاتف جرب التدوير بالعرض</li>
    </ul>
</section>


<footer>
    <p>&copy; 2024 مركز ماعين القرآني. جميع الحقوق محفوظة.</p>
</footer>

    </div>
</body>
</html>
